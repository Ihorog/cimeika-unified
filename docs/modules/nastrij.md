# Nastrij — Настрій

## 1. Призначення

**Nastrij** (Настрій) — модуль емоційних станів та контексту. Відстеження, аналіз та розуміння емоційного стану для підтримки благополуччя.

### Ключові функції:
- Запис емоційного стану
- Шкала інтенсивності (1-10)
- Історія настрою
- Аналітика та тренди
- Контекстуальні нотатки
- Теги та категорії

## 2. UI-секції

### Frontend компоненти:
- **NastrijView** (`/nastrij`) — головний екран настрою
- **MoodEntryCard** — картка запису настрою
- Трекер настрою
- Історія емоцій
- Аналітика

### Основні UI елементи:
1. **Швидкий запис** — форма для фіксації поточного настрою
2. **Історія** — timeline емоційних станів
3. **Аналітика** — графіки та статистика
4. **Інсайти** — автоматичні висновки та рекомендації
5. **Фільтри** — за типом настрою, інтенсивністю, датою

## 3. API

### Endpoints:

#### `GET /api/nastrij/state`
Отримати поточний стан модуля
```json
{
  "status": "ready",
  "current_mood": {...},
  "mood_history": [...]
}
```

#### `GET /api/nastrij/mood-history`
Отримати історію настрою
```json
{
  "history": [...],
  "count": 100
}
```

#### `POST /api/nastrij/mood`
Створити новий запис настрою
```json
Request:
{
  "mood": "happy",
  "intensity": 8,
  "notes": "Чудовий день!",
  "tags": ["робота", "успіх"]
}

Response: MoodEntry object
```

#### `GET /api/nastrij/analytics`
Отримати аналітику настрою
```json
{
  "average_intensity": 7.2,
  "most_common_mood": "calm",
  "mood_distribution": {...},
  "trend": "improving"
}
```

## 4. Стани

### Можливі стани модуля:
- **idle** — очікування
- **loading** — завантаження даних
- **ready** — дані завантажені
- **error** — помилка завантаження

### Типи настрою:
- **happy** — щасливий
- **sad** — сумний
- **anxious** — тривожний
- **calm** — спокійний
- **angry** — сердитий
- **excited** — збуджений
- **tired** — втомлений
- **neutral** — нейтральний

### Інтенсивність:
- 1-3: легка
- 4-6: середня
- 7-10: сильна

### Тренди:
- **improving** — покращення
- **stable** — стабільний
- **declining** — погіршення

## 5. Зв'язки з модулями

### Інтеграція з іншими модулями:
- **Ci** — інтеграція емоційного контексту в оркестрацію
- **Calendar** — зв'язок подій з емоційним станом
- **Kazkar** — емоційний контекст спогадів
- **PoDija** — врахування настрою при плануванні
- **Malya** — емоційний стан при генерації ідей
