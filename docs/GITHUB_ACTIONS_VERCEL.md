# GitHub Actions –¥–ª—è Vercel Deployment

–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—É—î –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –Ω–∞ Vercel —á–µ—Ä–µ–∑ GitHub Actions.

## üìã –û–≥–ª—è–¥

GitHub Actions workflow –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–æ–∑–≥–æ—Ä—Ç–∞—î —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ CIMEIKA –Ω–∞ Vercel:
- **Production deployment**: –ø—Ä–∏ push —É –≥—ñ–ª–∫—É `main`
- **Preview deployment**: –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ/–æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ Pull Request

## üîß –ü–æ—á–∞—Ç–∫–æ–≤–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ö—Ä–æ–∫ 1: –û—Ç—Ä–∏–º–∞–Ω–Ω—è Vercel —Ç–æ–∫–µ–Ω—ñ–≤

1. –£–≤—ñ–π–¥—ñ—Ç—å —É —Å–≤—ñ–π –∞–∫–∞—É–Ω—Ç Vercel
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ [Account Settings ‚Üí Tokens](https://vercel.com/account/tokens)
3. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π —Ç–æ–∫–µ–Ω –∑ –Ω–∞–∑–≤–æ—é `github-actions`
4. –ó–±–µ—Ä–µ–∂—ñ—Ç—å –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏–π —Ç–æ–∫–µ–Ω (–≤—ñ–Ω –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è –ª–∏—à–µ –æ–¥–∏–Ω —Ä–∞–∑)

### –ö—Ä–æ–∫ 2: –û—Ç—Ä–∏–º–∞–Ω–Ω—è Project ID —Ç–∞ Organization ID

–í–∏–∫–æ–Ω–∞–π—Ç–µ —É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ –∑ –∫–æ—Ä–µ–Ω—è –ø—Ä–æ—î–∫—Ç—É:

```bash
# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Vercel CLI (—è–∫—â–æ —â–µ –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ)
npm install -g vercel@latest

# –ó–∞–ª–æ–≥—ñ–Ω—å—Ç–µ—Å—å
vercel login

# –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –ø–∞–ø–∫–∏ frontend
cd frontend

# –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å –ø—Ä–æ—î–∫—Ç –¥–æ Vercel
vercel link

# –û—Ç—Ä–∏–º–∞–π—Ç–µ project —ñ org ID
cat .vercel/project.json
```

–í–∏ –ø–æ–±–∞—á–∏—Ç–µ —â–æ—Å—å –Ω–∞ –∑—Ä–∞–∑–æ–∫:

```json
{
  "projectId": "prj_xxxxxxxxxxxxxxxxxxxx",
  "orgId": "team_xxxxxxxxxxxxxxxxxxxx"
}
```

### –ö—Ä–æ–∫ 3: –î–æ–¥–∞–≤–∞–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç—ñ–≤ –¥–æ GitHub

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é –Ω–∞ GitHub
2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Settings ‚Üí Secrets and variables ‚Üí Actions
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "New repository secret"
4. –î–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—ñ —Å–µ–∫—Ä–µ—Ç–∏:

| –ù–∞–∑–≤–∞ | –ó–Ω–∞—á–µ–Ω–Ω—è | –û–ø–∏—Å |
|-------|----------|------|
| `VERCEL_TOKEN` | –¢–æ–∫–µ–Ω –∑ –ö—Ä–æ–∫—É 1 | –¢–æ–∫–µ–Ω –¥–ª—è –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó Vercel CLI |
| `VERCEL_ORG_ID` | `orgId` –∑ –ö—Ä–æ–∫—É 2 | ID –≤–∞—à–æ—ó –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó/–∫–æ–º–∞–Ω–¥–∏ |
| `VERCEL_PROJECT_ID` | `projectId` –∑ –ö—Ä–æ–∫—É 2 | ID –ø—Ä–æ—î–∫—Ç—É —É Vercel |

### –ö—Ä–æ–∫ 4: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ —É Vercel

–ù–µ –∑–∞–±—É–¥—å—Ç–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ —É Vercel Dashboard:

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –ø—Ä–æ—î–∫—Ç —É [Vercel Dashboard](https://vercel.com/dashboard)
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ Settings ‚Üí Environment Variables
3. –î–æ–¥–∞–π—Ç–µ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –∑–º—ñ–Ω–Ω—ñ:
   - `VITE_API_URL` - URL –≤–∞—à–æ–≥–æ backend API
   - `VITE_APP_NAME` - –ù–∞–∑–≤–∞ –¥–æ–¥–∞—Ç–∫—É (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: CIMEIKA)

## üöÄ –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î

### Production Deployment

–ü—Ä–∏ push —É –≥—ñ–ª–∫—É `main`:

1. GitHub Actions –∑–∞–ø—É—Å–∫–∞—î workflow
2. –ü–µ—Ä–µ–≤—ñ—Ä—è—î –∑–º—ñ–Ω–∏ —É –ø–∞–ø—Ü—ñ `frontend/` –∞–±–æ `vercel.json`
3. –í—Å—Ç–∞–Ω–æ–≤–ª—é—î –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ —Ç–∞ Vercel CLI
4. –ë—É–¥—É—î –ø—Ä–æ—î–∫—Ç
5. –†–æ–∑–≥–æ—Ä—Ç–∞—î –Ω–∞ Vercel —É production —Ä–µ–∂–∏–º—ñ
6. –î–æ–¥–∞—î summary —É GitHub Actions

### Preview Deployment

–ü—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ/–æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ Pull Request:

1. GitHub Actions –∑–∞–ø—É—Å–∫–∞—î workflow
2. –ü–µ—Ä–µ–≤—ñ—Ä—è—î –∑–º—ñ–Ω–∏ —É –ø–∞–ø—Ü—ñ `frontend/` –∞–±–æ `vercel.json`
3. –í—Å—Ç–∞–Ω–æ–≤–ª—é—î –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ —Ç–∞ Vercel CLI
4. –ë—É–¥—É—î –ø—Ä–æ—î–∫—Ç
5. –†–æ–∑–≥–æ—Ä—Ç–∞—î –Ω–∞ Vercel —É preview —Ä–µ–∂–∏–º—ñ
6. –î–æ–¥–∞—î –∫–æ–º–µ–Ω—Ç–∞—Ä –¥–æ PR –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –Ω–∞ preview
7. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–ª—é—î deployment –ø—Ä–∏ –Ω–æ–≤–∏—Ö commits –¥–æ PR

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Workflow

–§–∞–π–ª workflow –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –∑–∞ –∞–¥—Ä–µ—Å–æ—é: `.github/workflows/vercel-deploy.yml`

### –¢—Ä–∏–≥–µ—Ä–∏

```yaml
on:
  push:
    branches:
      - main
    paths:
      - 'frontend/**'
      - 'vercel.json'
  pull_request:
    branches:
      - main
    paths:
      - 'frontend/**'
      - 'vercel.json'
```

Workflow –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –ª–∏—à–µ –ø—Ä–∏ –∑–º—ñ–Ω–∞—Ö —É —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ñ, —â–æ –µ–∫–æ–Ω–æ–º–∏—Ç—å CI/CD —Ä–µ—Å—É—Ä—Å–∏.

### –ö—Ä–æ–∫–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

1. **Checkout** - –∫–ª–æ–Ω—É–≤–∞–Ω–Ω—è –∫–æ–¥—É
2. **Setup Node.js** - –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Node.js 18 –∑ –∫–µ—à—É–≤–∞–Ω–Ω—è–º
3. **Install Vercel CLI** - –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—å–æ—ó –≤–µ—Ä—Å—ñ—ó Vercel CLI
4. **Pull Environment** - –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –∑ Vercel
5. **Build** - –∑–±—ñ—Ä–∫–∞ –ø—Ä–æ—î–∫—Ç—É
6. **Deploy** - —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –Ω–∞ Vercel
7. **Comment PR** (—Ç—ñ–ª—å–∫–∏ –¥–ª—è PR) - –∫–æ–º–µ–Ω—Ç–∞—Ä –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –Ω–∞ preview
8. **Summary** - –¥–æ–¥–∞–≤–∞–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –¥–æ GitHub Actions summary

## üîç –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞

### –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤ deployment

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –≤–∫–ª–∞–¥–∫–∏ "Actions" —É GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó
2. –í–∏–±–µ—Ä—ñ—Ç—å workflow "Vercel Deployment"
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π run –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É –¥–µ—Ç–∞–ª–µ–π
4. –†–æ–∑–≥–æ—Ä–Ω—ñ—Ç—å –∫—Ä–æ–∫–∏ –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É –ª–æ–≥—ñ–≤

### –ü–µ—Ä–µ–≥–ª—è–¥ deployment —É Vercel

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ [Vercel Dashboard](https://vercel.com/dashboard)
2. –í–∏–±–µ—Ä—ñ—Ç—å –ø—Ä–æ—î–∫—Ç
3. –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ —Å–ø–∏—Å–æ–∫ deployments
4. –ö–æ–∂–µ–Ω deployment –º–∞—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ source (GitHub commit/PR)

## üêõ Troubleshooting

### –ü–æ–º–∏–ª–∫–∞: "VERCEL_TOKEN is not set"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ GitHub secret

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ `VERCEL_TOKEN` –¥–æ–¥–∞–Ω–æ –¥–æ GitHub Secrets
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —ñ–º'—è —Å–µ–∫—Ä–µ—Ç—É —Ç–æ—á–Ω–æ –∑–±—ñ–≥–∞—î—Ç—å—Å—è (case-sensitive)

### –ü–æ–º–∏–ª–∫–∞: "Project not found"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π `VERCEL_PROJECT_ID` –∞–±–æ `VERCEL_ORG_ID`

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–æ–≤—Ç–æ—Ä—ñ—Ç—å –ö—Ä–æ–∫ 2 –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∑–Ω–∞—á–µ–Ω–Ω—è —É `.vercel/project.json`
3. –û–Ω–æ–≤—ñ—Ç—å GitHub secrets –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º–∏ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏

### –ü–æ–º–∏–ª–∫–∞: "Build failed"

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–æ–º–∏–ª–∫–∞ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –ª–æ–≥–∏ —É GitHub Actions
2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å `npm run build` –ª–æ–∫–∞–ª—å–Ω–æ —É –ø–∞–ø—Ü—ñ `frontend/`
3. –í–∏–ø—Ä–∞–≤—Ç–µ –ø–æ–º–∏–ª–∫–∏ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó
4. –ó–∞–∫–æ–º—ñ—Ç—å—Ç–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

### –ü–æ–º–∏–ª–∫–∞: "Rate limit exceeded"

**–ü—Ä–∏—á–∏–Ω–∞:** –ó–∞–Ω–∞–¥—Ç–æ –±–∞–≥–∞—Ç–æ deployments –∑–∞ –∫–æ—Ä–æ—Ç–∫–∏–π —á–∞—Å

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ó–∞—á–µ–∫–∞–π—Ç–µ 10-15 —Ö–≤–∏–ª–∏–Ω
2. –û–±'—î–¥–Ω–∞–π—Ç–µ –∑–º—ñ–Ω–∏ –ø–µ—Ä–µ–¥ push
3. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `[skip ci]` —É commit message –¥–ª—è —Ç–µ—Ö–Ω—ñ—á–Ω–∏—Ö –∑–º—ñ–Ω

## üìä –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è

### –ö–µ—à—É–≤–∞–Ω–Ω—è

Workflow –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∫–µ—à—É–≤–∞–Ω–Ω—è –¥–ª—è –ø—Ä–∏—Å–∫–æ—Ä–µ–Ω–Ω—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:
- Node.js modules –∫–µ—à—É—é—Ç—å—Å—è —á–µ—Ä–µ–∑ `actions/setup-node`
- Vercel CLI –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è –æ–¥–∏–Ω —Ä–∞–∑

### –£–º–æ–≤–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

Workflow –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø—Ä–∏ –∑–º—ñ–Ω–∞—Ö —É:
- `frontend/**` - –±—É–¥—å-—è–∫—ñ —Ñ–∞–π–ª–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É
- `vercel.json` - –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Vercel
- `.github/workflows/vercel-deploy.yml` - —Å–∞–º workflow

## üîê –ë–µ–∑–ø–µ–∫–∞

- –í—Å—ñ —Ç–æ–∫–µ–Ω–∏ —Ç–∞ ID –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —è–∫ GitHub Secrets (–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ñ)
- –¢–æ–∫–µ–Ω–∏ –Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è —É –ª–æ–≥–∞—Ö
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π Vercel CLI
- Minimal permissions –¥–ª—è GitHub token (read contents, write PR comments)

## üìù –î–æ–¥–∞—Ç–∫–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

### –ü—Ä–æ–ø—É—Å–∫ CI

–î–æ–¥–∞–π—Ç–µ `[skip ci]` –∞–±–æ `[ci skip]` —É commit message:

```bash
git commit -m "docs: update README [skip ci]"
```

### –†—É—á–Ω–∏–π –∑–∞–ø—É—Å–∫ (Manual Trigger)

–ú–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É workflow:

```yaml
on:
  workflow_dispatch:
    inputs:
      environment:
        description: 'Deployment environment'
        required: true
        default: 'preview'
        type: choice
        options:
          - preview
          - production
```

### –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Slack/Discord

–ú–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ deployment:

```yaml
- name: Notify Slack
  uses: slackapi/slack-github-action@v1
  with:
    webhook-url: ${{ secrets.SLACK_WEBHOOK }}
    payload: |
      {
        "text": "Deployed to Vercel: ${{ steps.deploy.outputs.url }}"
      }
```

## üîó –ö–æ—Ä–∏—Å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è

- [GitHub Actions Documentation](https://docs.github.com/en/actions)
- [Vercel CLI Documentation](https://vercel.com/docs/cli)
- [Vercel GitHub Integration](https://vercel.com/docs/git/vercel-for-github)

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–ü—Ä–∏ –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—ñ –ø—Ä–æ–±–ª–µ–º:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ —É GitHub Actions
2. –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ —Å—Ç–∞—Ç—É—Å Vercel: [vercel-status.com](https://www.vercel-status.com/)
3. –ó–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó –ø—Ä–æ—î–∫—Ç—É

---

**–°—Ç–≤–æ—Ä–µ–Ω–æ:** –ì—Ä—É–¥–µ–Ω—å 2024  
**–í–µ—Ä—Å—ñ—è:** 1.0.0  
**–°—Ç–∞—Ç—É—Å:** –ê–∫—Ç–∏–≤–Ω–∏–π
